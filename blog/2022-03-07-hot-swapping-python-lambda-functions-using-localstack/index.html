<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><link rel=stylesheet href=/css/vendor/custom.css><link rel=preload as=font href=/fonts/vendor/jost/jost-v4-latin-regular.woff2 type=font/woff2 crossorigin><link rel=preload as=font href=/fonts/vendor/jost/jost-v4-latin-700.woff2 type=font/woff2 crossorigin><link rel=stylesheet href=/main.b0b7d5b73f97eeedd55a0f17443c108db5282a68f2b439c03101dd1ba74e8d070f67fc9a2090e8c13b1fc155711751b77c3f28c9d84a4824fe3d7168315e66e4.css integrity="sha512-sLfVtz+X7u3VWg8XRDwQjbUoKmjytDnAMQHdG6dOjQcPZ/yaIJDowTsfwVVxF1G3fD8oydhKSCT+PXFoMV5m5A==" crossorigin=anonymous><noscript><style>img.lazyload{display:none}</style></noscript><meta name=robots content="index, follow"><meta name=googlebot content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"><meta name=bingbot content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"><title>Hot Swapping Python Lambda Functions using LocalStack - LocalStack</title><meta name=description content="Debugging and testing AWS Lambda functions using Hot code swapping with LocalStackâ€™s code mounting"><link rel=canonical href=/blog/2022-03-07-hot-swapping-python-lambda-functions-using-localstack/><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://localstack.cloud/images/og-preview-image.png"><meta name=twitter:title content="Hot Swapping Python Lambda Functions using LocalStack"><meta name=twitter:description content="Debugging and testing AWS Lambda functions using Hot code swapping with LocalStackâ€™s code mounting"><meta name=twitter:site content="@localstack"><meta name=twitter:creator content="@localstack"><meta property="og:title" content="Hot Swapping Python Lambda Functions using LocalStack"><meta property="og:description" content="Debugging and testing AWS Lambda functions using Hot code swapping with LocalStackâ€™s code mounting"><meta property="og:type" content="article"><meta property="og:url" content="/blog/2022-03-07-hot-swapping-python-lambda-functions-using-localstack/"><meta property="og:image" content="/blog/2022-03-07-hot-swapping-python-lambda-functions-using-localstack/hot-swapping-python-lambda-functions.png"><meta property="article:published_time" content="2022-03-22T08:53:01+05:30"><meta property="article:modified_time" content="2022-03-22T08:53:01+05:30"><meta property="og:site_name" content="LocalStack"><meta property="article:publisher" content="https://www.facebook.com/"><meta property="article:author" content="https://www.facebook.com/"><meta property="og:locale" content="en_US"><script type=application/ld+json>{"@context":"https://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"\/blog\/2022-03-07-hot-swapping-python-lambda-functions-using-localstack\/"},"headline":"Hot Swapping Python Lambda Functions using LocalStack","image":[],"datePublished":"2022-03-22T08:53:01CET","dateModified":"2022-03-22T08:53:01CET","author":{"@type":"Organization","name":"LocalStack"},"publisher":{"@type":"Organization","name":"LocalStack","logo":{"@type":"ImageObject","url":"\/\/images\/og-preview-image.png"}},"description":"Debugging and testing AWS Lambda functions using Hot code swapping with LocalStackâ€™s code mounting"}</script><script type=application/ld+json>{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Home","item":"https:\/\/localstack.cloud\/"},{"@type":"ListItem","position":3,"name":"Blog","item":"https:\/\/localstack.cloud\/\/blog\/"},{"@type":"ListItem","position":4,"name":"2022 03 07 Hot Swapping Python Lambda Functions Using Localstack","item":"https:\/\/localstack.cloud\/\/blog\/2022-03-07-hot-swapping-python-lambda-functions-using-localstack\/"}]}</script><meta name=theme-color content="#fff"><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#6b7cf5><link rel=manifest href=/site.webmanifest><script>(function(a,e,f,g,b,c,d){a.GoogleAnalyticsObject=b,a[b]=a[b]||function(){(a[b].q=a[b].q||[]).push(arguments)},a[b].l=1*new Date,c=e.createElement(f),d=e.getElementsByTagName(f)[0],c.async=1,c.src=g,d.parentNode.insertBefore(c,d)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga'),ga('create','UA-101988473-1','auto'),ga('send','pageview')</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-QRFTZPWGB7"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','G-QRFTZPWGB7')</script><script defer src=https://unpkg.com/@tinybirdco/flock.js data-host=https://api.tinybird.co data-token=p.eyJ1IjogIjAwZDRjYzRjLTg4N2UtNGNmZS05YzY4LTJjNzMyNjE5ODdjMCIsICJpZCI6ICI2YzRhMDViNi1iZjVlLTRkY2QtODNlZS1jMmFjYjg5ZjQ1NzAifQ.EPdBzyAb28wUbtZacobblsMi42IwTd7d2amppDfw-jE></script><script type=text/javascript id=hs-script-loader async defer src=//js-eu1.hs-scripts.com/26596507.js></script><script type=text/javascript src=//js-eu1.hsforms.net/forms/embed/v2.js></script><script>function toggleTag(b){const c='tag-'+b;if(c!=='tag-all'){const a=document.getElementsByClassName('tag-all');for(let b=0;b<a.length;b++){const c=a[b];c.classList.add('d-none')}}const d=document.getElementsByClassName(c);for(let a=0;a<d.length;a++){const b=d[a];b.classList.remove('d-none')}const e=document.getElementsByClassName('filterButton');for(let a=0;a<e.length;a++){const b=e[a];b.classList.remove('bg-purple'),b.classList.remove('btn-primary'),b.classList.add('btn-outline-primary')}const f=b+"FilterButton",a=document.getElementById(f);a.classList.add('bg-purple'),a.classList.add('btn-primary'),a.classList.remove('btn-outline-primary')}</script></head><body class="blog single"><header class="navbar fixed-top navbar-expand-lg navbar-light pb-sm-0 bg-transparent" id=navbarGrad><div class="container pb-0 pb-sm-3"><div class="d-flex justify-content-lg-between w-100 flex-wrap flex-lg-nowrap"><label class="menu-icon order-0 d-lg-none" for=menu-btn><span class=navicon></span></label><input class="menu-btn order-0" type=checkbox id=menu-btn>
<a class="navbar-brand order-1 order-md-0" href=/><img src=/images/header-logo-new.svg height=43px alt=Logo style=margin-bottom:-10px></a><div class="flex-grow-1 order-2 d-lg-none"></div><ul class="navbar-nav social-nav d-none d-sm-flex order-3 order-lg-4"><li class=nav-item><a class="nav-link social-hover" target=_blank href=https://twitter.com/localstack><svg width="25" height="26" viewBox="0 0 25 26" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M25 13.25c0 6.9036-5.5964 12.5-12.5 12.5C5.59644 25.75.0 20.1536.0 13.25.0 6.34644 5.59644.75 12.5.75 19.4036.75 25 6.34644 25 13.25zm-6.56-3.0468C19.0443 10.1315 19.6205 9.97084 20.1562 9.73331 19.7558 10.3325 19.2493 10.8586 18.6651 11.2797 18.6709 11.4076 18.6738 11.5366 18.6738 11.6661c0 3.9487-3.0055 8.5014-8.5012 8.5014C8.48534 20.1675 6.91443 19.6731 5.59285 18.825 5.82615 18.8528 6.06457 18.8669 6.30522 18.8669 7.70545 18.8669 8.9936 18.3894 10.0164 17.5879 8.70861 17.5636 7.6054 16.6997 7.22527 15.5129 7.40754 15.5477 7.59449 15.5662 7.78745 15.5662 8.05952 15.5662 8.32401 15.5299 8.57447 15.4612c-1.36658-.2743-2.39692-1.4817-2.39692-2.9294C6.17755 12.5193 6.17755 12.5066 6.17777 12.4939 6.58041 12.7183 7.04144 12.8526 7.53098 12.868 6.7297 12.3323 6.20183 11.4174 6.20183 10.3811c0-.547520000000001.14751-1.06113.40465-1.50232C8.08024 10.687 10.282 11.8764 12.7651 12.001 12.7139 11.7822 12.6874 11.5542 12.6874 11.32c0-1.64975 1.338-2.98781 2.9878-2.98781.8599.0 1.6364.36276 2.1815.94322C18.5369 9.14149 19.1767 8.89304 19.754 8.55056 19.5305 9.24867 19.057 9.83358 18.44 10.2032z" fill="rgba(255, 255, 255, 0.7)"/></svg><span class=visually-hidden>Twitter</span></a></li><li class=nav-item><a class="nav-link social-hover" target=_blank href=https://github.com/localstack><svg width="25" height="26" viewBox="0 0 25 26" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12.4984.75C5.59688.75.0 6.4882.0 13.5668c0 5.6616 3.58125 10.4647 8.55 12.161C9.175 25.8459 9.40312 25.4501 9.40312 25.1102 9.40312 24.8054 9.39219 23.9996 9.38594 22.9305 5.90938 23.7044 5.175 21.2119 5.175 21.2119c-.56719-1.4808-1.3875-1.875-1.3875-1.875C2.65156 18.5423 3.87187 18.5582 3.87187 18.5582 5.12656 18.6492 5.78594 19.8795 5.78594 19.8795c1.11562 1.9579 2.92656 1.393 3.63906 1.0643C9.5375 20.1156 9.86094 19.5507 10.2188 19.23 7.44375 18.9061 4.525 17.8066 4.525 12.8966c0-1.3994.4875-2.5436 1.2875-3.44036C5.68281 9.13231 5.25469 7.8286 5.93438 6.06534c0 0 1.05-.34468 3.43749 1.31327C10.3688 7.09457 11.4375 6.95256 12.5016 6.94777 13.5625 6.95415 14.6328 7.09457 15.6312 7.38021c2.386-1.65795 3.4344-1.31328 3.4344-1.31328.6813 1.76487.2531 3.06697.125 3.3909C19.9922 10.3546 20.475 11.4988 20.475 12.8982c0 4.9228-2.9219 6.0063-5.7063 6.3238C15.2172 19.6178 15.6172 20.3997 15.6172 21.5949 15.6172 23.3087 15.6016 24.6906 15.6016 25.1102 15.6016 25.4533 15.8266 25.8522 16.4609 25.7262 21.4219 24.0283 25 19.2268 25 13.5668 25 6.4882 19.4031.75 12.4984.75z" fill="rgba(255, 255, 255, 0.7)"/></svg><span class=visually-hidden>GitHub</span></a></li><li class=nav-item><a class="btn btn-primary btn-tertiary" type=link href=https://app.localstack.cloud><i class="bi bi-person"></i> SIGN UP</a></li></ul><div class="collapse navbar-collapse order-4 order-lg-3 flex-grow-0" id=collapse-content><ul class="navbar-nav main-nav me-auto mt-4 mt-sm-0 gap-xl-4 d-flex justify-content-between flex-column flex-sm-row"><li class="nav-item ms-0 dropdown"><a class="nav-link dropdown-toggle" href=# id=productsDropdown data-bs-toggle=dropdown aria-haspopup=true aria-expanded=false>SOLUTIONS</a><div class=dropdown-menu aria-labelledby=productsDropdown><a class=dropdown-item href=/solutions/cloud-emulation>CLOUD EMULATION</a>
<a class=dropdown-item href=/solutions/team-collaboration>TEAM COLLABORATION</a>
<a class=dropdown-item href=/solutions/enterprise-integration>ENTERPRISE INTEGRATION</a>
<a class=dropdown-item href=/solutions/ecosystem>ECOSYSTEM</a></div></li><li class="nav-item ms-0"><a class=nav-link style=white-space:nowrap href=/pricing/>PRICING</a></li><li class="nav-item ms-0 dropdown"><a class="nav-link dropdown-toggle" href=# id=productsDropdown data-bs-toggle=dropdown aria-haspopup=true aria-expanded=false>COMPANY</a><div class=dropdown-menu aria-labelledby=productsDropdown><a class=dropdown-item href=/company>ABOUT US</a>
<a class=dropdown-item href=/careers>CAREERS</a></div></li><li class="nav-item ms-0 dropdown"><a class="nav-link dropdown-toggle" href=# id=productsDropdown data-bs-toggle=dropdown aria-haspopup=true aria-expanded=false>COMMUNITY</a><div class=dropdown-menu aria-labelledby=productsDropdown><a class=dropdown-item href=/community/stay-informed>STAY INFORMED</a>
<a class=dropdown-item href=/community/get-involved>GET INVOLVED</a></div></li><li class="nav-item ms-0 active"><a class=nav-link style=white-space:nowrap href=/blog/>BLOG</a></li><li class="nav-item ms-0 dropdown"><a class="nav-link dropdown-toggle" href=# id=productsDropdown data-bs-toggle=dropdown aria-haspopup=true aria-expanded=false>DOCS</a><div class=dropdown-menu aria-labelledby=productsDropdown><a class=dropdown-item href=https://docs.localstack.cloud>DOCUMENTATION</a>
<a class=dropdown-item href=/faq>FAQ</a></div></li><li class="nav-item d-flex d-sm-none justify-content-between"><div class="d-flex gap-4"><a class=nav-link target=_blank href=https://twitter.com/localstack><svg width="25" height="26" viewBox="0 0 25 26" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M25 13.25c0 6.9036-5.5964 12.5-12.5 12.5C5.59644 25.75.0 20.1536.0 13.25.0 6.34644 5.59644.75 12.5.75 19.4036.75 25 6.34644 25 13.25zm-6.56-3.0468C19.0443 10.1315 19.6205 9.97084 20.1562 9.73331 19.7558 10.3325 19.2493 10.8586 18.6651 11.2797 18.6709 11.4076 18.6738 11.5366 18.6738 11.6661c0 3.9487-3.0055 8.5014-8.5012 8.5014C8.48534 20.1675 6.91443 19.6731 5.59285 18.825 5.82615 18.8528 6.06457 18.8669 6.30522 18.8669 7.70545 18.8669 8.9936 18.3894 10.0164 17.5879 8.70861 17.5636 7.6054 16.6997 7.22527 15.5129 7.40754 15.5477 7.59449 15.5662 7.78745 15.5662 8.05952 15.5662 8.32401 15.5299 8.57447 15.4612c-1.36658-.2743-2.39692-1.4817-2.39692-2.9294C6.17755 12.5193 6.17755 12.5066 6.17777 12.4939 6.58041 12.7183 7.04144 12.8526 7.53098 12.868 6.7297 12.3323 6.20183 11.4174 6.20183 10.3811c0-.547520000000001.14751-1.06113.40465-1.50232C8.08024 10.687 10.282 11.8764 12.7651 12.001 12.7139 11.7822 12.6874 11.5542 12.6874 11.32c0-1.64975 1.338-2.98781 2.9878-2.98781.8599.0 1.6364.36276 2.1815.94322C18.5369 9.14149 19.1767 8.89304 19.754 8.55056 19.5305 9.24867 19.057 9.83358 18.44 10.2032z" fill="rgba(255, 255, 255, 0.7)"/></svg><span class=visually-hidden>Twitter</span></a>
<a class=nav-link target=_blank href=https://github.com/localstack><svg width="25" height="26" viewBox="0 0 25 26" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12.4984.75C5.59688.75.0 6.4882.0 13.5668c0 5.6616 3.58125 10.4647 8.55 12.161C9.175 25.8459 9.40312 25.4501 9.40312 25.1102 9.40312 24.8054 9.39219 23.9996 9.38594 22.9305 5.90938 23.7044 5.175 21.2119 5.175 21.2119c-.56719-1.4808-1.3875-1.875-1.3875-1.875C2.65156 18.5423 3.87187 18.5582 3.87187 18.5582 5.12656 18.6492 5.78594 19.8795 5.78594 19.8795c1.11562 1.9579 2.92656 1.393 3.63906 1.0643C9.5375 20.1156 9.86094 19.5507 10.2188 19.23 7.44375 18.9061 4.525 17.8066 4.525 12.8966c0-1.3994.4875-2.5436 1.2875-3.44036C5.68281 9.13231 5.25469 7.8286 5.93438 6.06534c0 0 1.05-.34468 3.43749 1.31327C10.3688 7.09457 11.4375 6.95256 12.5016 6.94777 13.5625 6.95415 14.6328 7.09457 15.6312 7.38021c2.386-1.65795 3.4344-1.31328 3.4344-1.31328.6813 1.76487.2531 3.06697.125 3.3909C19.9922 10.3546 20.475 11.4988 20.475 12.8982c0 4.9228-2.9219 6.0063-5.7063 6.3238C15.2172 19.6178 15.6172 20.3997 15.6172 21.5949 15.6172 23.3087 15.6016 24.6906 15.6016 25.1102 15.6016 25.4533 15.8266 25.8522 16.4609 25.7262 21.4219 24.0283 25 19.2268 25 13.5668 25 6.4882 19.4031.75 12.4984.75z" fill="rgba(255, 255, 255, 0.7)"/></svg><span class=visually-hidden>GitHub</span></a></div><a class="btn btn-primary btn-tertiary" type=link href=https://app.localstack.cloud/sign-up><i class="bi bi-person"></i> SIGN UP</a></li><li class="nav-item ms-2 d-flex d-sm-none"></li></ul></div></div></div></header><script>const myNav=document.getElementById('navbarGrad'),collapseContent=document.getElementById('collapse-content'),sm=window.matchMedia('(min-width: 576px)').matches;if(window.onscroll=function(){window.scrollY>=25?(myNav.classList.add("navbar-visible"),myNav.classList.remove("bg-transparent")):(getComputedStyle(collapseContent).display==='none'||sm)&&(myNav.classList.add("bg-transparent"),myNav.classList.remove("navbar-visible"))},!sm){const a=document.getElementById('menu-btn');a.onclick=function(){myNav.classList.contains('bg-transparent')?(myNav.classList.add("navbar-visible"),myNav.classList.remove("bg-transparent")):window.scrollY===0&&(myNav.classList.add("bg-transparent"),myNav.classList.remove("navbar-visible"))}}$(document).ready(function(){$(".dropdown").hover(function(){var a=$(this).children(".dropdown-menu");a.is(":visible")&&a.parent().toggleClass("open")})})</script><style>.social-hover:hover svg path{fill:#fff}.dropdown:hover .dropdown-menu{display:block}.dropdown-menu{margin-top:.125rem}</style><section class="section section-sm bg-gradient-dark"><div class="position-absolute w-100 section pb-7 pt-7 d-none d-md-block"><div class=container><div class="row justify-content-center align-items-center"><div class=col-2><img class=w-100 style=transform:scale(2);opacity:.65 src=/images/heroes/blog.svg></div><div class=col-2></div><div class=col-2></div><div class=col-2><img class=w-100 style=transform:rotate(35deg)scale(1.4);opacity:.9 src=/images/heroes/blog.svg></div><div class=col-2><img class=w-100 style=transform:rotate(-45deg)scaleX(-1)scale(1.5);opacity:.75 src=/images/heroes/blog.svg></div></div></div></div><div class="container pb-5 pt-6 pb-md-7 pt-sm-7"><div class="row justify-content-center align-items-center text-white"><h1 class="text-center m-0 pt-lg-5">Hot Swapping Python Lambda Functions using LocalStack</h1></div></div></section><section class="section section-sm mb-6"><div class="container px-lg-8"><div class="row justify-content-center"><div class=col-12><article><div class=blog-header><div class="d-flex align-items-center flex-wrap card-footer-text"><p class=mb-0><img src=/images/common/clock.svg>
9&nbsp;MIN READ&nbsp;&#8212;&nbsp;
posted March 22, 2022 by <a class="stretched-link position-relative">Harsh Mishra</a></p><p></div></div><p class=lead>Debugging and testing AWS Lambda functions using Hot code swapping with LocalStackâ€™s code mounting</p><a href=/blog/2022-03-07-hot-swapping-python-lambda-functions-using-localstack/hot-swapping-python-lambda-functions.png target=_blank><figure><img class="img-fluid lazyload blur-up" data-sizes=auto src=/blog/2022-03-07-hot-swapping-python-lambda-functions-using-localstack/hot-swapping-python-lambda-functions_huefec9a9f8e3493d08f78bf4e59e1cb9e_513838_20x0_resize_box_2.png data-srcset="https://localstack.cloud/blog/2022-03-07-hot-swapping-python-lambda-functions-using-localstack/hot-swapping-python-lambda-functions_huefec9a9f8e3493d08f78bf4e59e1cb9e_513838_900x0_resize_box_2.png 900w,https://localstack.cloud/blog/2022-03-07-hot-swapping-python-lambda-functions-using-localstack/hot-swapping-python-lambda-functions_huefec9a9f8e3493d08f78bf4e59e1cb9e_513838_800x0_resize_box_2.png 800w,https://localstack.cloud/blog/2022-03-07-hot-swapping-python-lambda-functions-using-localstack/hot-swapping-python-lambda-functions_huefec9a9f8e3493d08f78bf4e59e1cb9e_513838_700x0_resize_box_2.png 700w,https://localstack.cloud/blog/2022-03-07-hot-swapping-python-lambda-functions-using-localstack/hot-swapping-python-lambda-functions_huefec9a9f8e3493d08f78bf4e59e1cb9e_513838_600x0_resize_box_2.png 600w,https://localstack.cloud/blog/2022-03-07-hot-swapping-python-lambda-functions-using-localstack/hot-swapping-python-lambda-functions_huefec9a9f8e3493d08f78bf4e59e1cb9e_513838_500x0_resize_box_2.png 500w" width=1280 height=720><noscript><img class=img-fluid sizes=100vw srcset="https://localstack.cloud/blog/2022-03-07-hot-swapping-python-lambda-functions-using-localstack/hot-swapping-python-lambda-functions_huefec9a9f8e3493d08f78bf4e59e1cb9e_513838_900x0_resize_box_2.png 900w,https://localstack.cloud/blog/2022-03-07-hot-swapping-python-lambda-functions-using-localstack/hot-swapping-python-lambda-functions_huefec9a9f8e3493d08f78bf4e59e1cb9e_513838_800x0_resize_box_2.png 800w,https://localstack.cloud/blog/2022-03-07-hot-swapping-python-lambda-functions-using-localstack/hot-swapping-python-lambda-functions_huefec9a9f8e3493d08f78bf4e59e1cb9e_513838_700x0_resize_box_2.png 700w,https://localstack.cloud/blog/2022-03-07-hot-swapping-python-lambda-functions-using-localstack/hot-swapping-python-lambda-functions_huefec9a9f8e3493d08f78bf4e59e1cb9e_513838_600x0_resize_box_2.png 600w,https://localstack.cloud/blog/2022-03-07-hot-swapping-python-lambda-functions-using-localstack/hot-swapping-python-lambda-functions_huefec9a9f8e3493d08f78bf4e59e1cb9e_513838_500x0_resize_box_2.png 500w" src=/blog/2022-03-07-hot-swapping-python-lambda-functions-using-localstack/hot-swapping-python-lambda-functions.png width=1280 height=720></noscript></figure></a><p><div class="alert alert-warning d-flex" role=alert><div class="flex-shrink-1 alert-icon"></div><div class=w-100>ðŸ“¢ Hot Swapping is now Hot Reloading. The feature has been significantly improved in the latest releases of LocalStack and we recommend to check out our <a href=https://docs.localstack.cloud/user-guide/tools/lambda-tools/hot-reloading/>documentation</a> for more details. We are keeping this blog post available for informational purposes only.</div></div><br></p><p>AWS Lambda is a Serverless Function as a Service (FaaS) system that allows you to write code in your favorite programming language and run it on the AWS ecosystem. Unlike deploying your code on a server, you can now break down your application into many independent functions and deploy them as a singular units. With the help of AWS Lambda, you can strive for more modular code that can be tested and debugged while integrated with the AWS infrastructure and your core system.</p><p>However, iterating over your Lambda functions can be a slow process. When developing with AWS, Lambda functions need to be re-deployed on every change before you can test or debug. Having many functions that depend on each other or rely on other AWS services can create really slow development loops that impede progress and cost money. These slow loops incentivizes developers to deploy changes without testing them properly. Suddenly, you may be deploying critical bugs to production, and it will be much more expensive to find the defect and fix it.</p><p>LocalStack was created to solve this kind of problem. LocalStack is a cloud service emulator that can run in a single container on your local machine or in your CI environment, which lets you run your cloud and serverless applications without connecting to an AWS account. All cloud resources your application depend on are now available locally, allowing you to run automated tests of your application in an AWS environment without the need for costly AWS developer accounts, slow re-deployments, or transient errors from remote connections.</p><p>Moreover, with LocalStack, you can avoid deploying your Lambdas with every change to debug and test it. Rather, LocalStack can mount your source code directly into a Lambda and run it. It is a great way to test your code on every change without having to deploy it on AWS, or even re-running your deployment scripts.</p><h2 id=anatomy-of-a-lambda-function>Anatomy of a Lambda Function</h2><p>To understand how this works and how it can help you, let&rsquo;s first take a look at a simple Python Lambda example:</p><pre><code class=language-python>import json

def lambda_handler(event, context): 
    return {
        'statusCode': 200,
        'body': json.dumps('Hello from Lambda!')
    }
</code></pre><p>You can see that we have defined a <code>lambda_handler</code>, the function which is executed by the Lambda service every time a trigger event occurs. It takes two arguments: <code>event</code> and <code>context</code>. The <code>event</code> argument is the input data that contains detailed information about the event that triggered the execution, while the <code>context</code> argument contains methods and properties that provide information about the invocation. Lambda is an event-driven service, which implies that every Lambda execution happens when it is triggered by another AWS service.</p><p>While deploying it on AWS, you would need to specify the handler (<code>lambda_handler</code> in our case), which will serve as the entry point for the Lambda function. Second, we would choose a runtime environment (Python in our case), which is the language that the Lambda function will run in. Finally, a trigger is configured and you can save the code to AWS Lambda and then test the function. You will get the following output:</p><pre><code class=language-sh>{
    'statusCode': 200,
    'body': &quot;\&quot;Hello from Lambda!\&quot;&quot;
}
</code></pre><h2 id=setting-up-localstack>Setting up LocalStack</h2><p>LocalStack allows you to run your Lambda functions locally. You can run the Lambda by either deploying it locally or mounting your code directly into LocalStack. This blog covers the latter, where we will test our Lambda function by mounting our code directly into the container. It will facilitate blazing-fast testing and debugging our Lambda functions while ensuring that a watcher will continue to look at your code, compile it and update the local Lambda inside the LocalStack container on every change.</p><p>Let&rsquo;s get started with LocalStack. To install LocalStack, you need to ensure that the LocalStack CLI is installed. Through <code>pip</code>, you can easily do that using the following command:</p><pre><code class=language-sh>pip install localstack
</code></pre><p>It will install the <code>localstack-cli</code> which is used to run the Docker image that hosts the LocalStack runtime. You can start LocalStack in a detached mode by running the following command:</p><pre><code class=language-sh>localstack start -d
</code></pre><p>For the purpose of this blog, we will use a sample AWS Lambda function from the <a href=https://github.com/awsdocs/aws-doc-sdk-examples/blob/main/python/example_code/lambda/lambda_handler_basic.py>AWS SDK examples</a>. Here is our Lambda function:</p><pre><code class=language-python># Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
# SPDX-License-Identifier: Apache-2.0

&quot;&quot;&quot;
Purpose

Shows how to implement an AWS Lambda function that handles input from direct
invocation.
&quot;&quot;&quot;

# snippet-start:[python.example_code.lambda.handler.calculate]
import logging
import math

logger = logging.getLogger()
logger.setLevel(logging.INFO)

# Define a list of Python lambda functions that are called by this AWS Lambda function.
ACTIONS = {
    'square': lambda x: x * x,
    'square root': lambda x: math.sqrt(x),
    'increment': lambda x: x + 1,
    'decrement': lambda x: x - 1,
}


def lambda_handler(event, context):
    &quot;&quot;&quot;
    Accepts an action and a number, performs the specified action on the number,
    and returns the result.

    :param event: The event dict that contains the parameters sent when the function
                  is invoked.
    :param context: The context in which the function is called.
    :return: The result of the specified action.
    &quot;&quot;&quot;
    logger.info('Event: %s', event)

    result = ACTIONS[event['action']](event['number'])
    logger.info('Calculated result of %s', result)

    response = {'result': result}
    return response
# snippet-end:[python.example_code.lambda.handler.calculate]
</code></pre><p>To get started with hot swapping the above Lambda function, start the LocalStack container by configuring the <code>LAMBDA_REMOTE_DOCKER</code>:</p><pre><code class=language-sh>LAMBDA_REMOTE_DOCKER=0 localstack start -d
</code></pre><p>The <code>LAMBDA_REMOTE_DOCKER</code> is configured as <code>false</code> to ensure that the Lambda volume mounts works while we are mounting a temporary folder on the host. If you are using a Docker-Compose setup to start LocalStack, you can add the following option to your <code>docker-compose.yml</code> file:</p><pre><code class=language-yml>services:
  localstack:
    ...
    environment:
      ...
      - LAMBDA_REMOTE_DOCKER=false
</code></pre><p>You will also need to install our LocalStack AWS CLI, which is a thin wrapper around the aws command line interface for use with LocalStack, using <code>pip</code>:</p><pre><code class=language-sh>pip install awscli-local
</code></pre><h2 id=hot-swapping-lambda-functions>Hot Swapping Lambda functions</h2><p>Before we get started with hot-swapping the Lambda function, we first need to create it on LocalStack. We will deploy the Lambda using a special S3 bucket indicated by using <code>__local__</code> as the bucket name. The S3 key path should point to the directory of your Lambda function code. You can save the above example as a file in a directory of your choice. The handler is referenced by the filename of your Lambda function where the code inside of it is invoked. Let&rsquo;s try it out:</p><pre><code class=language-sh>awslocal lambda create-function --function-name my-cool-local-function \
    --code S3Bucket=&quot;__local__&quot;,S3Key=&quot;/some/path&quot; \
    --handler lambda_handler_basic.lambda_handler \
    --runtime python3.8 \
    --role cool-stacklifter
</code></pre><p>Let&rsquo;s break that down.</p><p>The <code>--function-name</code> is the name of the Lambda function that we are trying to deploy. The <code>--code</code> specifies the code for the function which has been configured inside the special S3 bucket using <code>S3Bucket</code>, by mounting a local directory with <code>S3Key</code> which references the directory path. The <code>--handler</code> is the name of the method within your code that Lambda calls to execute your function while the <code>--runtime</code> is the identifier of the runtime (using Python as an example here). The <code>--role</code> specifies the Amazon Resource Name (ARN) of the function&rsquo;s execution role.</p><p>We can now test out Lambda function by specifying a simple payload:</p><pre><code class=language-sh>awslocal lambda invoke --function-name my-cool-local-function --payload '{&quot;action&quot;: &quot;square&quot;, &quot;number&quot;: 3}' output.txt
</code></pre><p>We specify that we are looking for a number to be squared. The invocation returns the following response:</p><pre><code class=language-sh>{
    &quot;StatusCode&quot;: 200,
    &quot;LogResult&quot;: &quot;&quot;,
    &quot;ExecutedVersion&quot;: &quot;$LATEST&quot;
}
</code></pre><p>The <code>output.txt</code> contains:</p><pre><code class=language-text>{&quot;result&quot;:9}
</code></pre><p>Let&rsquo;s change our Lambda code now and see how things work. This time, the function has already been mounted as a file in the executing container. It means that we do not need to deploy the Lambda once again to test our code. We can go ahead, make changes to our file and the output would be reflected in an instant.</p><p>Let us change this line <code>response = {'result': result}</code> to <code>response = {'math_result': result}</code>. The result of the previous request (without redeploying or updating) would look like:</p><pre><code class=language-text>{&quot;math_result&quot;:9}
</code></pre><h3 id=testing-every-change>Testing every change</h3><p>But that&rsquo;s just a simple plain Python Lambda, right? How can we hot swap Lambda functions with external dependencies? For this purpose, we recommend using a virtual environment. You can specify a <code>requirements.txt</code> where all your dependencies are specified and you can install them by activating the environment and running the command: <code>pip install -r requirements.txt</code>. Now we can prepare a special folder and a watchman script for hot code swapping!</p><p>We will specify a <code>watchman.sh</code> script that will act as a wrapper while we mount our folder as mounting point for Lambdas. We will use <code>build/hot</code> as an example here. Here is an example of what the script would look like:</p><pre><code class=language-sh>trap &quot;watchman watch-del $(pwd)&quot; EXIT

folder=$(pwd)/$1
echo &quot;watching folder $folder for changes&quot;

while watchman-wait $folder; do
  bash -c &quot;$2&quot;
  watchman watch-del $(pwd)
done
</code></pre><p>You can now add a <code>Makefile</code> here to prepare the codebase for hot swapping:</p><pre><code class=language-sh>VENV_DIR ?= .venv
VENV_RUN ?= . $(VENV_DIR)/bin/activate
BUILD_FOLDER ?= build
PROJECT_MODULE_NAME = my_project_module

build-hot:
	$(VENV_RUN);
  rm -rf $(BUILD_FOLDER)/hot &amp;&amp; mkdir -p $(BUILD_FOLDER)/hot;
	cp -r $(VENV_DIR)/lib/python$(shell python --version | grep -oE '[0-9]\.[0-9]')/site-packages/* $(BUILD_FOLDER)/hot;
	cp -r $(PROJECT_MODULE_NAME) $(BUILD_FOLDER)/hot/$(PROJECT_MODULE_NAME);
	cp *.toml $(BUILD_FOLDER)/hot;

watch:
	bin/watchman.sh $(PROJECT_MODULE_NAME) &quot;make build-hot&quot;

.PHONY: build-hot watch
</code></pre><p>It will copy the <code>PROJECT_MODULE_NAME</code> along with all dependencies to <code>build/hot</code> folder which will then be mounted to the Lambda inside LocalStack container. Just start this with <code>make watch</code> and see the magic!</p><h2 id=conclusion>Conclusion</h2><p>Testing your Lambda function with LocalStack is a great way to test your code and make sure you&rsquo;re not pushing faulty code to the cloud. With LocalStack, you can instill greater confidence in your code when deploying it to your AWS production account, while meeting the standards and compatibility with your core system. LocalStack Tools help improve your development efficiency with LocalStack Cloud Developer Tools. You can not only hot-swap your Lambda function but also remotely debug them, inject LocalStack service endpoints inside your application, persist the state of your AWS services using cloud pods and much more! With a few lines of code, you can make your life as a cloud developer easier.</p><p>Find the documentation for <a href=https://docs.localstack.cloud/tools/>LocalStack Tools</a> and the code on <a href=https://github.com/localstack/localstack>LocalStack repository</a>. You can create an issue on <a href=https://github.com/localstack/localstack/issues/new>GitHub</a> or connect with us on <a href=https://localstack.cloud/contact>LocalStack Slack</a> to get help.</p></article></div></div></div></section><section class="section bg-gradient-light"><div class=container><div class="row justify-content-center"><div class="d-flex flex-column gap-4 col-lg-12 text-white"><h2 class="h2 text-center">Stay in the loop</h2><p>We'd love to get in touch with you.
Please subscribe with your email to stay tuned for release notes and product updates.
We promise never to send an excessive amount of emails (we hate spam, too).</p><script>hbspt.forms.create({region:"eu1",portalId:"26596507",formId:"1cc99237-4ce0-4d65-abdf-f87ac2724717"})</script></div></div></div></section><footer class="footer pt-6 bg-gradient-dark"><div class="footer-main pb-5"><div class=container><div class="row justify-content-between"><div class="col-12 col-lg-4"><img style=width:243px src=/images/header-logo-new.svg alt="LocalStack Logo"></div><div class="col-12 col-lg-8 mt-4 mt-lg-0"><div class="row gap-4"><div class=col><ul class="list-unstyled gap-4 d-flex flex-column"><li><a class=footer-text href=/contact>Contact</a></li><li><a class=footer-text href=/pricing>Pricing</a></li><li><a class=footer-text href=/blog>Blog</a></li><li><a class=footer-text href=/careers>Careers</a></li></ul></div><div class=col><ul class="list-unstyled gap-4 d-flex flex-column"><li><a class=footer-text href=https://app.localstack.cloud>App</a></li><li><a class=footer-text href=/community>Community</a></li><li><a class=footer-text href=/faq>FAQ</a></li></ul></div><div class=col><ul class="list-unstyled gap-4 d-flex flex-column"><li><a class=footer-text href=https://github.com/localstack>GitHub</a></li><li><a class=footer-text href=https://hub.docker.com/u/localstack>DockerHub</a></li><li><a class=footer-text href=https://docs.localstack.cloud>Docs</a></li></ul></div><div class=col><ul class="list-unstyled gap-4 d-flex flex-column"><li class=footer-text>Follow us</li><li class="d-flex gap-3"><a class=footer-text href=https://twitter.com/localstack><span><svg width="26" height="26" viewBox="0 0 26 26" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M25 13.25c0 6.9036-5.5964 12.5-12.5 12.5C5.59644 25.75.0 20.1536.0 13.25.0 6.34644 5.59644.75 12.5.75 19.4036.75 25 6.34644 25 13.25zm-6.56-3.0468C19.0443 10.1315 19.6205 9.97084 20.1562 9.73331 19.7558 10.3325 19.2493 10.8586 18.6651 11.2797 18.6709 11.4076 18.6738 11.5366 18.6738 11.6661c0 3.9487-3.0055 8.5014-8.5012 8.5014C8.48534 20.1675 6.91443 19.6731 5.59285 18.825 5.82615 18.8528 6.06457 18.8669 6.30522 18.8669 7.70545 18.8669 8.9936 18.3894 10.0164 17.5879 8.70861 17.5636 7.6054 16.6997 7.22527 15.5129 7.40754 15.5477 7.59449 15.5662 7.78745 15.5662 8.05952 15.5662 8.32401 15.5299 8.57447 15.4612c-1.36658-.2743-2.39692-1.4817-2.39692-2.9294C6.17755 12.5193 6.17755 12.5066 6.17777 12.4939 6.58041 12.7183 7.04144 12.8526 7.53098 12.868 6.7297 12.3323 6.20183 11.4174 6.20183 10.3811c0-.547520000000001.14751-1.06113.40465-1.50232C8.08024 10.687 10.282 11.8764 12.7651 12.001 12.7139 11.7822 12.6874 11.5542 12.6874 11.32c0-1.64975 1.338-2.98781 2.9878-2.98781.8599.0 1.6364.36276 2.1815.94322C18.5369 9.14149 19.1767 8.89304 19.754 8.55056 19.5305 9.24867 19.057 9.83358 18.44 10.2032z" fill="#fff"/></svg></span></a><a class=footer-text href=https://www.linkedin.com/company/localstack-cloud><span><svg width="26" height="26" viewBox="0 0 26 26" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M13 26c7.1797.0 13-5.8203 13-13S20.1797.0 13 0 0 5.8203.0 13 5.8203 26 13 26zM9.35126 10.5024C9.97963 10.5024 10.489 9.993 10.489 9.36463S9.97963 8.22687 9.35126 8.22687 8.2135 8.73626 8.2135 9.36463s.50939 1.13777 1.13776 1.13777zm2.21194.8622v6.3122h1.9599V14.5553C13.5231 13.7316 13.6781 12.9339 14.6993 12.9339c1.0073.0 1.0198.941700000000001 1.0198 1.6734v3.0701H17.68V14.2157C17.68 12.5153 17.3139 11.2086 15.3265 11.2086c-.9542.0-1.5938.5236-1.8554 1.0192H13.4446V11.3646H11.5632zm-3.19382.0H10.3324v6.3122H8.36938V11.3646z" fill="#fff"/></svg></span></a></li></ul></div></div></div></div></div></div><div class=footer-bottom><div class="container mb-2"><hr><div class="row pt-4"><div class=col style=color:#fff;opacity:.5>Copyright &copy; LocalStack</div><div class="col text-end"><ul class=list-inline><li class=list-inline-item><a class=footer-last-text href=/privacy-policy>Privacy policy</a></li><li class=list-inline-item><a class=footer-last-text href=/terms>Terms of Service</a></li><li class=list-inline-item><a class=footer-last-text href=/#>Imprint</a></li></ul></div></div></div></div></footer><script src=/js/bootstrap.min.51b4083a09e54138d5bbe9c42a5f5f71af6e60a417f276d5620cbde3b15eb1a07c9ea17a889bc58074adf9b19641039a77521d3131f039300d2fe29ffa532aa8.js integrity="sha512-UbQIOgnlQTjVu+nEKl9fca9uYKQX8nbVYgy947FesaB8nqF6iJvFgHSt+bGWQQOad1IdMTHwOTANL+Kf+lMqqA==" crossorigin=anonymous defer></script><script src=/js/highlight.min.8cdbefd08ec63ef25f4b2510ae50c13b3d9ed43e25a15ddb55f14c33130e68cf8be3131ccf2d087c49f5f21fe88c2f0e2715a21f936047d0d0b85dc48cb864b9.js integrity="sha512-jNvv0I7GPvJfSyUQrlDBOz2e1D4loV3bVfFMMxMOaM+L4xMczy0IfEn18h/ojC8OJxWiH5NgR9DQuF3EjLhkuQ==" crossorigin=anonymous defer></script><script src=/main.min.8933efb6bcdc37606a11f732d52c6f65d7fc1d082b89d56516f6a1bfb528ee7c40c3430bb80214cdd129ec7d69d4cadd74e693da54a9ba6f08c44771204d4468.js integrity="sha512-iTPvtrzcN2BqEfcy1SxvZdf8HQgridVlFvahv7Uo7nxAw0MLuAIUzdEp7H1p1MrddOaT2lSpum8IxEdxIE1EaA==" crossorigin=anonymous defer></script><script src=/index.min.28297aad85d5f5902201eb4ef84e7012a37d4a34824e2256df80cd91e547bf155df22029e5596951d6f2692dd1fee54c76721b407e5ac526bd33bedc636a87e5.js integrity="sha512-KCl6rYXV9ZAiAetO+E5wEqN9SjSCTiJW34DNkeVHvxVd8iAp5VlpUdbyaS3R/uVMdnIbQH5axSa9M77cY2qH5Q==" crossorigin=anonymous defer></script></body></html>